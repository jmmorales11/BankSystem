ó
lC:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str '
)' (
]( )
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str )
)) *
]* +
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *£?
sC:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\Controllers\UserDataController.cs
	namespace

 	
Presentation


 
.

 
Controllers

 "
{ 
public 

class 
UserDataController #
:$ %

Controller& 0
{ 
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
>& '
ListUserData( 4
(4 5
)5 6
{ 	
var 
proxyService 
= 
new "
	ProxyUser# ,
(, -
)- .
;. /
try 
{ 
var 
response 
= 
await $
proxyService% 1
.1 2
GetAllUsers2 =
(= >
)> ?
;? @
if 
( 
response 
. 
Success $
)$ %
{ 
return 
View 
(  
response  (
.( )
Users) .
). /
;/ 0
} 
else 
{ 
TempData 
[ 
$str +
]+ ,
=- .
response/ 7
.7 8
Message8 ?
;? @
return 
View 
(  
)  !
;! "
} 
} 
catch   
(   
	Exception   
ex   
)    
{!! 
TempData"" 
["" 
$str"" '
]""' (
="") *
ex""+ -
.""- .
Message"". 5
;""5 6
return## 
View## 
(## 
)## 
;## 
}$$ 
}%% 	
[)) 	
HttpGet))	 
])) 
public** 
async** 
Task** 
<** 
ActionResult** &
>**& '
CreateUserData**( 6
(**6 7
int**7 :
userId**; A
)**A B
{++ 	
var,, 
proxyService,, 
=,, 
new,, "
ProxyUserData,,# 0
(,,0 1
),,1 2
;,,2 3
try.. 
{// 
var11 
response11 
=11 
await11 $
proxyService11% 1
.111 2
GetUserDataById112 A
(11A B
userId11B H
)11H I
;11I J
Debug44 
.44 
	WriteLine44 
(44  
$"44  "
$str44" E
{44E F
userId44F L
}44L M
$str44M O
{44O P
response44P X
.44X Y
Success44Y `
}44` a
$str44a j
{44j k
response44k s
.44s t
UserData44t |
}44| }
"44} ~
)44~ 
;	44 Ä
if66 
(66 
response66 
!=66 
null66  $
&&66% '
response66( 0
.660 1
Success661 8
)668 9
{77 
return99 
View99 
(99  
response99  (
.99( )
UserData99) 1
)991 2
;992 3
}:: 
else;; 
{<< 
return>> 
View>> 
(>>  
new>>  #
	User_Data>>$ -
{>>. /
user_id>>0 7
=>>8 9
userId>>: @
}>>A B
)>>B C
;>>C D
}?? 
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
TempDataCC 
[CC 
$strCC '
]CC' (
=CC) *
exCC+ -
.CC- .
MessageCC. 5
;CC5 6
returnDD 
RedirectToActionDD '
(DD' (
$strDD( 6
)DD6 7
;DD7 8
}EE 
}FF 	
[KK 	
HttpPostKK	 
]KK 
publicLL 
asyncLL 
TaskLL 
<LL 
ActionResultLL &
>LL& '
CreateUserDataLL( 6
(LL6 7
	User_DataLL7 @
userDataLLA I
)LLI J
{MM 	
varNN 
proxyServiceNN 
=NN 
newNN "
ProxyUserDataNN# 0
(NN0 1
)NN1 2
;NN2 3
tryOO 
{PP 
varRR 
responseRR 
=RR 
userDataRR '
.RR' (
user_data_idRR( 4
==RR5 7
$numRR8 9
?SS 
awaitSS 
proxyServiceSS (
.SS( )
CreateUserDataSS) 7
(SS7 8
userDataSS8 @
)SS@ A
:TT 
awaitTT 
proxyServiceTT (
.TT( )
UpdateUserDataTT) 7
(TT7 8
userDataTT8 @
.TT@ A
user_data_idTTA M
,TTM N
userDataTTO W
)TTW X
;TTX Y
ifVV 
(VV 
responseVV 
.VV 
SuccessVV $
)VV$ %
{WW 
TempDataXX 
[XX 
$strXX -
]XX- .
=XX/ 0
$strXX1 \
;XX\ ]
returnYY 
RedirectToActionYY +
(YY+ ,
$strYY, :
)YY: ;
;YY; <
}ZZ 
else[[ 
{\\ 
TempData]] 
[]] 
$str]] +
]]]+ ,
=]]- .
response]]/ 7
.]]7 8
Message]]8 ?
;]]? @
return^^ 
View^^ 
(^^  
userData^^  (
)^^( )
;^^) *
}__ 
}`` 
catchaa 
(aa 
	Exceptionaa 
exaa 
)aa  
{bb 
TempDatacc 
[cc 
$strcc '
]cc' (
=cc) *
$"cc+ -
$strcc- 4
{cc4 5
excc5 7
.cc7 8
Messagecc8 ?
}cc? @
"cc@ A
;ccA B
returndd 
Viewdd 
(dd 
userDatadd $
)dd$ %
;dd% &
}ee 
}ff 	
[ii 	
HttpGetii	 
]ii 
publicjj 
asyncjj 
Taskjj 
<jj 
ActionResultjj &
>jj& '
ViewUserDatajj( 4
(jj4 5
intjj5 8
userIdjj9 ?
)jj? @
{kk 	
varll 
proxyServicell 
=ll 
newll "
ProxyUserDatall# 0
(ll0 1
)ll1 2
;ll2 3
trynn 
{oo 
varpp 
responsepp 
=pp 
awaitpp $
proxyServicepp% 1
.pp1 2
GetUserDataByIdpp2 A
(ppA B
userIdppB H
)ppH I
;ppI J
ifrr 
(rr 
responserr 
!=rr 
nullrr  $
&&rr% '
responserr( 0
.rr0 1
Successrr1 8
)rr8 9
{ss 
returnuu 
Viewuu 
(uu  
$struu  .
,uu. /
responseuu0 8
.uu8 9
UserDatauu9 A
)uuA B
;uuB C
}vv 
elseww 
{xx 
TempDatayy 
[yy 
$stryy +
]yy+ ,
=yy- .
responseyy/ 7
?yy7 8
.yy8 9
Messageyy9 @
??yyA C
$stryyD n
;yyn o
returnzz 
RedirectToActionzz +
(zz+ ,
$strzz, :
)zz: ;
;zz; <
}{{ 
}|| 
catch}} 
(}} 
	Exception}} 
ex}} 
)}}  
{~~ 
TempData 
[ 
$str '
]' (
=) *
$"+ -
$str- U
{U V
exV X
.X Y
MessageY `
}` a
"a b
;b c
return
ÄÄ 
RedirectToAction
ÄÄ '
(
ÄÄ' (
$str
ÄÄ( 6
)
ÄÄ6 7
;
ÄÄ7 8
}
ÅÅ 
}
ÇÇ 	
}
ÖÖ 
}ÜÜ ã	
`C:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\Global.asax.cs
	namespace		 	
Presentation		
 
{

 
public 

class 
MvcApplication 
:  !
System" (
.( )
Web) ,
., -
HttpApplication- <
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
AreaRegistration 
. 
RegisterAllAreas -
(- .
). /
;/ 0
FilterConfig 
. !
RegisterGlobalFilters .
(. /
GlobalFilters/ <
.< =
Filters= D
)D E
;E F
RouteConfig 
. 
RegisterRoutes &
(& '

RouteTable' 1
.1 2
Routes2 8
)8 9
;9 :
BundleConfig 
. 
RegisterBundles (
(( )
BundleTable) 4
.4 5
Bundles5 <
)< =
;= >
} 	
} 
} ∂¢
oC:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\Controllers\UserController.cs
	namespace 	
Presentation
 
. 
Controllers "
{ 
public 

class 
UserController 
:  !

Controller" ,
{ 
private 
readonly 
IEmailService &
_emailService' 4
;4 5
public 
UserController 
( 
) 
{ 	
_emailService 
= 
new 
EmailService  ,
(, -
)- .
;. /
} 	
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 
ActionResult 

CreateUser &
(& '
)' (
{ 	
return 
View 
( 
) 
; 
}   	
["" 	
HttpPost""	 
]"" 
[## 	$
ValidateAntiForgeryToken##	 !
]##! "
public$$ 
ActionResult$$ 

CreateUser$$ &
($$& '
User$$' +
newUser$$, 3
)$$3 4
{%% 	
var&& 
proxy_service&& 
=&& 
new&&  #
	ProxyUser&&$ -
(&&- .
)&&. /
;&&/ 0
if(( 
((( 

ModelState(( 
.(( 
IsValid(( "
)((" #
{)) 
try** 
{++ 
var,, 
createdUserResponse,, +
=,,, -
proxy_service,,. ;
.,,; <
Create,,< B
(,,B C
newUser,,C J
),,J K
;,,K L
if.. 
(.. 
createdUserResponse.. +
...+ ,
Success.., 3
)..3 4
{// 
TempData00  
[00  !
$str00! 1
]001 2
=003 4
createdUserResponse005 H
.00H I
Message00I P
;00P Q
TempData11  
[11  !
$str11! (
]11( )
=11* +
createdUserResponse11, ?
.11? @
User11@ D
.11D E
email11E J
;11J K
return22 
RedirectToAction22 /
(22/ 0
$str220 E
)22E F
;22F G
}33 
else44 
{55 
TempData66  
[66  !
$str66! /
]66/ 0
=661 2
createdUserResponse663 F
.66F G
Message66G N
;66N O
}77 
}88 
catch99 
(99 
	Exception99  
ex99! #
)99# $
{:: 
TempData;; 
[;; 
$str;; +
];;+ ,
=;;- .
ex;;/ 1
.;;1 2
Message;;2 9
;;;9 :
}<< 
}== 
return?? 
View?? 
(?? 
newUser?? 
)??  
;??  !
}@@ 	
publicEE 
ActionResultEE 
VerifyAndCreateUserEE /
(EE/ 0
)EE0 1
{FF 	
ViewBagGG 
.GG 
EmailGG 
=GG 
TempDataGG $
[GG$ %
$strGG% ,
]GG, -
;GG- .
returnHH 
ViewHH 
(HH 
)HH 
;HH 
}II 	
[KK 	
HttpPostKK	 
]KK 
publicLL 
asyncLL 
TaskLL 
<LL 
ActionResultLL &
>LL& '
VerifyAndCreateUserLL( ;
(LL; <
stringLL< B
emailLLC H
,LLH I
stringLLJ P
codeLLQ U
)LLU V
{MM 	
varNN 
proxy_serviceNN 
=NN 
newNN  #
	ProxyUserNN$ -
(NN- .
)NN. /
;NN/ 0
tryPP 
{QQ 
varRR 
responseRR 
=RR 
awaitRR $
proxy_serviceRR% 2
.RR2 3
VerifyAndCreateUserRR3 F
(RRF G
emailRRG L
,RRL M
codeRRN R
)RRR S
;RRS T
ifTT 
(TT 
responseTT 
!=TT 
nullTT  $
&&TT% '
responseTT( 0
.TT0 1
MessageTT1 8
!=TT9 ;
nullTT< @
)TT@ A
{UU 
returnVV 
JsonVV 
(VV  
newVV  #
{VV$ %
MessageVV& -
=VV. /
responseVV0 8
.VV8 9
MessageVV9 @
}VVA B
)VVB C
;VVC D
}WW 
elseXX 
{YY 
returnZZ 
JsonZZ 
(ZZ  
newZZ  #
{ZZ$ %
MessageZZ& -
=ZZ. /
$strZZ0 N
}ZZO P
)ZZP Q
;ZZQ R
}[[ 
}\\ 
catch]] 
(]] 
	Exception]] 
ex]] 
)]]  
{^^ 
return__ 
Json__ 
(__ 
new__ 
{__  !
Message__" )
=__* +
$"__, .
$str__. L
{__L M
ex__M O
.__O P
Message__P W
}__W X
"__X Y
}__Z [
)__[ \
;__\ ]
}`` 
}aa 	
publicee 
ActionResultee 
Loginee !
(ee! "
)ee" #
{ff 	
returngg 
Viewgg 
(gg 
)gg 
;gg 
}hh 	
[jj 	
HttpPostjj	 
]jj 
[kk 	$
ValidateAntiForgeryTokenkk	 !
]kk! "
publicll 
asyncll 
Taskll 
<ll 
ActionResultll &
>ll& '
Loginll( -
(ll- .
stringll. 4
emailll5 :
,ll: ;
stringll< B
passwordllC K
)llK L
{mm 	
varnn 
proxy_servicenn 
=nn 
newnn  #
	ProxyUsernn$ -
(nn- .
)nn. /
;nn/ 0
ifpp 
(pp 
stringpp 
.pp 
IsNullOrWhiteSpacepp )
(pp) *
emailpp* /
)pp/ 0
||pp1 3
stringpp4 :
.pp: ;
IsNullOrWhiteSpacepp; M
(ppM N
passwordppN V
)ppV W
)ppW X
{qq 
TempDatarr 
[rr 
$strrr '
]rr' (
=rr) *
$strrr+ R
;rrR S
returnss 
Viewss 
(ss 
)ss 
;ss 
}tt 
tryvv 
{ww 
varxx 
responsexx 
=xx 
awaitxx $
proxy_servicexx% 2
.xx2 3
Loginxx3 8
(xx8 9
emailxx9 >
,xx> ?
passwordxx@ H
)xxH I
;xxI J
ifzz 
(zz 
responsezz 
.zz 
Successzz $
)zz$ %
{{{ 
TempData|| 
[|| 
$str|| -
]||- .
=||/ 0
response||1 9
.||9 :
Message||: A
;||A B
TempData}} 
[}} 
$str}} $
]}}$ %
=}}& '
response}}( 0
.}}0 1
Email}}1 6
;}}6 7
return~~ 
RedirectToAction~~ +
(~~+ ,
$str~~, =
)~~= >
;~~> ?
} 
else
ÄÄ 
{
ÅÅ 
TempData
ÇÇ 
[
ÇÇ 
$str
ÇÇ +
]
ÇÇ+ ,
=
ÇÇ- .
response
ÇÇ/ 7
.
ÇÇ7 8
Message
ÇÇ8 ?
;
ÇÇ? @
}
ÉÉ 
}
ÑÑ 
catch
ÖÖ 
(
ÖÖ 
	Exception
ÖÖ 
ex
ÖÖ 
)
ÖÖ  
{
ÜÜ 
TempData
áá 
[
áá 
$str
áá '
]
áá' (
=
áá) *
ex
áá+ -
.
áá- .
Message
áá. 5
;
áá5 6
}
àà 
return
ââ 
View
ââ 
(
ââ 
)
ââ 
;
ââ 
}
ää 	
public
éé 
ActionResult
éé 
VerifyLoginCode
éé +
(
éé+ ,
)
éé, -
{
èè 	
ViewBag
êê 
.
êê 
Email
êê 
=
êê 
TempData
êê $
[
êê$ %
$str
êê% ,
]
êê, -
;
êê- .
return
ëë 
View
ëë 
(
ëë 
)
ëë 
;
ëë 
}
íí 	
[
îî 	
HttpPost
îî	 
]
îî 
public
ïï 
async
ïï 
Task
ïï 
<
ïï 
ActionResult
ïï &
>
ïï& '
VerifyLoginCode
ïï( 7
(
ïï7 8
string
ïï8 >
email
ïï? D
,
ïïD E
string
ïïF L
code
ïïM Q
)
ïïQ R
{
ññ 	
var
óó 
proxy_service
óó 
=
óó 
new
óó  #
	ProxyUser
óó$ -
(
óó- .
)
óó. /
;
óó/ 0
if
ôô 
(
ôô 
string
ôô 
.
ôô  
IsNullOrWhiteSpace
ôô )
(
ôô) *
code
ôô* .
)
ôô. /
)
ôô/ 0
{
öö 
return
õõ 
Json
õõ 
(
õõ 
new
õõ 
{
õõ  !
Message
õõ" )
=
õõ* +
$str
õõ, ?
}
õõ@ A
)
õõA B
;
õõB C
}
úú 
try
ûû 
{
üü 
var
†† 
response
†† 
=
†† 
await
†† $
proxy_service
††% 2
.
††2 3

VerifyCode
††3 =
(
††= >
email
††> C
,
††C D
code
††E I
)
††I J
;
††J K
if
¢¢ 
(
¢¢ 
response
¢¢ 
!=
¢¢ 
null
¢¢  $
&&
¢¢% '
!
¢¢( )
string
¢¢) /
.
¢¢/ 0
IsNullOrEmpty
¢¢0 =
(
¢¢= >
response
¢¢> F
.
¢¢F G
Token
¢¢G L
)
¢¢L M
)
¢¢M N
{
££ 
TempData
§§ 
[
§§ 
$str
§§ -
]
§§- .
=
§§/ 0
$str
§§1 L
;
§§L M
TempData
•• 
[
•• 
$str
•• $
]
••$ %
=
••& '
email
••( -
;
••- .
return
ßß 
Json
ßß 
(
ßß  
new
ßß  #
{
ßß$ %
Message
ßß& -
=
ßß. /
response
ßß0 8
.
ßß8 9
Message
ßß9 @
,
ßß@ A
Token
ßßB G
=
ßßH I
response
ßßJ R
.
ßßR S
Token
ßßS X
}
ßßY Z
)
ßßZ [
;
ßß[ \
}
®® 
else
©© 
{
™™ 
return
´´ 
Json
´´ 
(
´´  
new
´´  #
{
´´$ %
Message
´´& -
=
´´. /
$str
´´0 O
}
´´P Q
)
´´Q R
;
´´R S
}
¨¨ 
}
≠≠ 
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
ex
ÆÆ 
)
ÆÆ  
{
ØØ 
return
∞∞ 
Json
∞∞ 
(
∞∞ 
new
∞∞ 
{
∞∞  !
Message
∞∞" )
=
∞∞* +
$"
∞∞, .
$str
∞∞. L
{
∞∞L M
ex
∞∞M O
.
∞∞O P
Message
∞∞P W
}
∞∞W X
"
∞∞X Y
}
∞∞Z [
)
∞∞[ \
;
∞∞\ ]
}
±± 
}
≤≤ 	
[
∂∂ 	
HttpGet
∂∂	 
]
∂∂ 
public
∑∑ 
async
∑∑ 
Task
∑∑ 
<
∑∑ 
ActionResult
∑∑ &
>
∑∑& '
GetAllUsers
∑∑( 3
(
∑∑3 4
)
∑∑4 5
{
∏∏ 	
var
ππ 
proxy_service
ππ 
=
ππ 
new
ππ  #
	ProxyUser
ππ$ -
(
ππ- .
)
ππ. /
;
ππ/ 0
try
∫∫ 
{
ªª 
var
ºº 
response
ºº 
=
ºº 
await
ºº $
proxy_service
ºº% 2
.
ºº2 3
GetAllUsers
ºº3 >
(
ºº> ?
)
ºº? @
;
ºº@ A
if
ΩΩ 
(
ΩΩ 
response
ΩΩ 
.
ΩΩ 
Success
ΩΩ $
)
ΩΩ$ %
{
ææ 
return
øø 
View
øø 
(
øø  
response
øø  (
.
øø( )
Users
øø) .
)
øø. /
;
øø/ 0
}
¿¿ 
else
¡¡ 
{
¬¬ 
TempData
√√ 
[
√√ 
$str
√√ +
]
√√+ ,
=
√√- .
response
√√/ 7
.
√√7 8
Message
√√8 ?
;
√√? @
return
ƒƒ 
View
ƒƒ 
(
ƒƒ  
)
ƒƒ  !
;
ƒƒ! "
}
≈≈ 
}
∆∆ 
catch
«« 
(
«« 
	Exception
«« 
ex
«« 
)
««  
{
»» 
TempData
…… 
[
…… 
$str
…… '
]
……' (
=
……) *
ex
……+ -
.
……- .
Message
……. 5
;
……5 6
return
   
View
   
(
   
)
   
;
   
}
ÀÀ 
}
ÃÃ 	
public
–– 
ActionResult
–– 

DeleteUser
–– &
(
––& '
int
––' *
id
––+ -
)
––- .
{
—— 	
var
““ 
proxy_service
““ 
=
““ 
new
““  #
	ProxyUser
““$ -
(
““- .
)
““. /
;
““/ 0
try
‘‘ 
{
’’ 
var
÷÷ 
response
÷÷ 
=
÷÷ 
proxy_service
÷÷ ,
.
÷÷, -

DeleteUser
÷÷- 7
(
÷÷7 8
id
÷÷8 :
)
÷÷: ;
;
÷÷; <
if
ÿÿ 
(
ÿÿ 
response
ÿÿ 
!=
ÿÿ 
null
ÿÿ  $
&&
ÿÿ% '
response
ÿÿ( 0
.
ÿÿ0 1
Success
ÿÿ1 8
)
ÿÿ8 9
{
ŸŸ 
TempData
⁄⁄ 
[
⁄⁄ 
$str
⁄⁄ -
]
⁄⁄- .
=
⁄⁄/ 0
$str
⁄⁄1 S
;
⁄⁄S T
}
€€ 
else
‹‹ 
{
›› 
TempData
ﬁﬁ 
[
ﬁﬁ 
$str
ﬁﬁ +
]
ﬁﬁ+ ,
=
ﬁﬁ- .
response
ﬁﬁ/ 7
?
ﬁﬁ7 8
.
ﬁﬁ8 9
Message
ﬁﬁ9 @
??
ﬁﬁA C
$str
ﬁﬁD v
;
ﬁﬁv w
}
ﬂﬂ 
}
‡‡ 
catch
·· 
(
·· 
	Exception
·· 
ex
·· 
)
··  
{
‚‚ 
TempData
„„ 
[
„„ 
$str
„„ '
]
„„' (
=
„„) *
$"
„„+ -
$str
„„- K
{
„„K L
ex
„„L N
.
„„N O
Message
„„O V
}
„„V W
"
„„W X
;
„„X Y
}
‰‰ 
return
ÊÊ 
RedirectToAction
ÊÊ #
(
ÊÊ# $
$str
ÊÊ$ 1
)
ÊÊ1 2
;
ÊÊ2 3
}
ÁÁ 	
public
ÏÏ 
ActionResult
ÏÏ 
EditUser
ÏÏ $
(
ÏÏ$ %
int
ÏÏ% (
id
ÏÏ) +
)
ÏÏ+ ,
{
ÌÌ 	
var
ÓÓ 
proxyService
ÓÓ 
=
ÓÓ 
new
ÓÓ "
	ProxyUser
ÓÓ# ,
(
ÓÓ, -
)
ÓÓ- .
;
ÓÓ. /
var
ÔÔ 
userResponse
ÔÔ 
=
ÔÔ 
proxyService
ÔÔ +
.
ÔÔ+ ,
GetUserById
ÔÔ, 7
(
ÔÔ7 8
id
ÔÔ8 :
)
ÔÔ: ;
;
ÔÔ; <
if
ÒÒ 
(
ÒÒ 
!
ÒÒ 
userResponse
ÒÒ 
.
ÒÒ 
Success
ÒÒ %
)
ÒÒ% &
{
ÚÚ 
TempData
ÛÛ 
[
ÛÛ 
$str
ÛÛ '
]
ÛÛ' (
=
ÛÛ) *
userResponse
ÛÛ+ 7
.
ÛÛ7 8
Message
ÛÛ8 ?
;
ÛÛ? @
return
ÙÙ 
RedirectToAction
ÙÙ '
(
ÙÙ' (
$str
ÙÙ( 5
)
ÙÙ5 6
;
ÙÙ6 7
}
ıı 
return
˜˜ 
View
˜˜ 
(
˜˜ 
userResponse
˜˜ $
.
˜˜$ %
User
˜˜% )
)
˜˜) *
;
˜˜* +
}
¯¯ 	
[
˙˙ 	
HttpPost
˙˙	 
]
˙˙ 
public
˚˚ 
ActionResult
˚˚ 
EditUser
˚˚ $
(
˚˚$ %
int
˚˚% (
id
˚˚) +
,
˚˚+ ,
User
˚˚- 1
updatedUser
˚˚2 =
)
˚˚= >
{
¸¸ 	
var
˝˝ 
proxyService
˝˝ 
=
˝˝ 
new
˝˝ "
	ProxyUser
˝˝# ,
(
˝˝, -
)
˝˝- .
;
˝˝. /
try
ˇˇ 
{
ÄÄ 
var
ÅÅ 
response
ÅÅ 
=
ÅÅ 
proxyService
ÅÅ +
.
ÅÅ+ ,

UpdateUser
ÅÅ, 6
(
ÅÅ6 7
id
ÅÅ7 9
,
ÅÅ9 :
updatedUser
ÅÅ; F
)
ÅÅF G
;
ÅÅG H
if
ÉÉ 
(
ÉÉ 
response
ÉÉ 
.
ÉÉ 
Success
ÉÉ $
)
ÉÉ$ %
{
ÑÑ 
TempData
ÖÖ 
[
ÖÖ 
$str
ÖÖ -
]
ÖÖ- .
=
ÖÖ/ 0
response
ÖÖ1 9
.
ÖÖ9 :
Message
ÖÖ: A
;
ÖÖA B
return
ÜÜ 
RedirectToAction
ÜÜ +
(
ÜÜ+ ,
$str
ÜÜ, 9
)
ÜÜ9 :
;
ÜÜ: ;
}
áá 
else
àà 
{
ââ 
TempData
ää 
[
ää 
$str
ää +
]
ää+ ,
=
ää- .
response
ää/ 7
.
ää7 8
Message
ää8 ?
;
ää? @
return
ãã 
View
ãã 
(
ãã  
updatedUser
ãã  +
)
ãã+ ,
;
ãã, -
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
èè 
TempData
êê 
[
êê 
$str
êê '
]
êê' (
=
êê) *
$"
êê+ -
$str
êê- 4
{
êê4 5
ex
êê5 7
.
êê7 8
Message
êê8 ?
}
êê? @
"
êê@ A
;
êêA B
return
ëë 
View
ëë 
(
ëë 
updatedUser
ëë '
)
ëë' (
;
ëë( )
}
íí 
}
ìì 	
public
óó 
ActionResult
óó 
DirectCreateUser
óó ,
(
óó, -
)
óó- .
{
òò 	
return
ôô 
View
ôô 
(
ôô 
)
ôô 
;
ôô 
}
öö 	
[
ùù 	
HttpPost
ùù	 
]
ùù 
[
ûû 	&
ValidateAntiForgeryToken
ûû	 !
]
ûû! "
public
üü 
async
üü 
Task
üü 
<
üü 
ActionResult
üü &
>
üü& '
DirectCreateUser
üü( 8
(
üü8 9
User
üü9 =
newUser
üü> E
)
üüE F
{
†† 	
var
°° 
proxyService
°° 
=
°° 
new
°° "
	ProxyUser
°°# ,
(
°°, -
)
°°- .
;
°°. /
if
¢¢ 
(
¢¢ 

ModelState
¢¢ 
.
¢¢ 
IsValid
¢¢ "
)
¢¢" #
{
££ 
try
§§ 
{
•• 
var
¶¶ 
response
¶¶  
=
¶¶! "
await
¶¶# (
proxyService
¶¶) 5
.
¶¶5 6
DirectCreateUser
¶¶6 F
(
¶¶F G
newUser
¶¶G N
)
¶¶N O
;
¶¶O P
if
ßß 
(
ßß 
response
ßß  
!=
ßß! #
null
ßß$ (
&&
ßß) +
response
ßß, 4
.
ßß4 5
Success
ßß5 <
)
ßß< =
{
®® 
TempData
©©  
[
©©  !
$str
©©! 1
]
©©1 2
=
©©3 4
response
©©5 =
.
©©= >
Message
©©> E
;
©©E F
return
™™ 
RedirectToAction
™™ /
(
™™/ 0
$str
™™0 =
)
™™= >
;
™™> ?
}
´´ 
else
¨¨ 
{
≠≠ 
TempData
ÆÆ  
[
ÆÆ  !
$str
ÆÆ! /
]
ÆÆ/ 0
=
ÆÆ1 2
response
ÆÆ3 ;
?
ÆÆ; <
.
ÆÆ< =
Message
ÆÆ= D
??
ÆÆE G
$str
ÆÆH f
;
ÆÆf g
}
ØØ 
}
∞∞ 
catch
±± 
(
±± 
	Exception
±±  
ex
±±! #
)
±±# $
{
≤≤ 
TempData
≥≥ 
[
≥≥ 
$str
≥≥ +
]
≥≥+ ,
=
≥≥- .
ex
≥≥/ 1
.
≥≥1 2
Message
≥≥2 9
;
≥≥9 :
}
¥¥ 
}
µµ 
return
∂∂ 
View
∂∂ 
(
∂∂ 
newUser
∂∂ 
)
∂∂  
;
∂∂  !
}
∑∑ 	
}
ππ 
}∫∫ Í/
oC:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\Controllers\LoanController.cs
	namespace

 	
Presentation


 
.

 
Controllers

 "
{ 
public 

class 
LoanController 
:  !

Controller" ,
{ 
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
>& '
ListUser( 0
(0 1
)1 2
{ 	
var 
proxyService 
= 
new "
	ProxyUser# ,
(, -
)- .
;. /
try 
{ 
var 
response 
= 
await $
proxyService% 1
.1 2
GetAllUsers2 =
(= >
)> ?
;? @
if 
( 
response 
. 
Success $
)$ %
{ 
return 
View 
(  
response  (
.( )
Users) .
). /
;/ 0
} 
else 
{ 
TempData 
[ 
$str +
]+ ,
=- .
response/ 7
.7 8
Message8 ?
;? @
return 
View 
(  
)  !
;! "
} 
} 
catch   
(   
	Exception   
ex   
)    
{!! 
TempData"" 
["" 
$str"" '
]""' (
="") *
ex""+ -
.""- .
Message"". 5
;""5 6
return## 
View## 
(## 
)## 
;## 
}$$ 
}%% 	
[(( 	
HttpGet((	 
](( 
public)) 
async)) 
Task)) 
<)) 
ActionResult)) &
>))& '
ListLoansByUser))( 7
())7 8
int))8 ;
userId))< B
)))B C
{** 	
var++ 
proxyService++ 
=++ 
new++ "
	ProxyLoan++# ,
(++, -
)++- .
;++. /
try,, 
{-- 
var// 
loansResponse// !
=//" #
await//$ )
proxyService//* 6
.//6 7
GetLoansByUserId//7 G
(//G H
userId//H N
)//N O
;//O P
if11 
(11 
loansResponse11 !
.11! "
Success11" )
)11) *
{22 
return33 
View33 
(33  
loansResponse33  -
.33- .
Loans33. 3
)333 4
;334 5
}44 
else55 
{66 
TempData77 
[77 
$str77 +
]77+ ,
=77- .
loansResponse77/ <
.77< =
Message77= D
;77D E
return88 
View88 
(88  
new88  #
List88$ (
<88( )
Loan88) -
>88- .
(88. /
)88/ 0
)880 1
;881 2
}99 
}:: 
catch;; 
(;; 
	Exception;; 
ex;; 
);;  
{<< 
TempData== 
[== 
$str== '
]==' (
===) *
ex==+ -
.==- .
Message==. 5
;==5 6
return>> 
View>> 
(>> 
new>> 
List>>  $
<>>$ %
Loan>>% )
>>>) *
(>>* +
)>>+ ,
)>>, -
;>>- .
}?? 
}@@ 	
[HH 	
HttpGetHH	 
]HH 
publicII 
ActionResultII 

CreateLoanII &
(II& '
intII' *
userIdII+ 1
)II1 2
{JJ 	
varLL 
loanLL 
=LL 
newLL 
LoanLL 
{MM 
user_idNN 
=NN 
userIdNN  
}OO 
;OO 
returnPP 
ViewPP 
(PP 
loanPP 
)PP 
;PP 
}QQ 	
[TT 	
HttpPostTT	 
]TT 
publicUU 
asyncUU 
TaskUU 
<UU 
ActionResultUU &
>UU& '

CreateLoanUU( 2
(UU2 3
LoanUU3 7
loanUU8 <
)UU< =
{VV 	
varWW 
proxyServiceWW 
=WW 
newWW "
	ProxyLoanWW# ,
(WW, -
)WW- .
;WW. /
tryXX 
{YY 
varZZ 
responseZZ 
=ZZ 
awaitZZ $
proxyServiceZZ% 1
.ZZ1 2

CreateLoanZZ2 <
(ZZ< =
loanZZ= A
)ZZA B
;ZZB C
if[[ 
([[ 
response[[ 
.[[ 
Success[[ $
)[[$ %
{\\ 
TempData]] 
[]] 
$str]] -
]]]- .
=]]/ 0
$str]]1 P
;]]P Q
return^^ 
RedirectToAction^^ +
(^^+ ,
$str^^, =
,^^= >
new^^? B
{^^C D
userId^^E K
=^^L M
loan^^N R
.^^R S
user_id^^S Z
}^^[ \
)^^\ ]
;^^] ^
}__ 
else`` 
{aa 
TempDatabb 
[bb 
$strbb +
]bb+ ,
=bb- .
responsebb/ 7
.bb7 8
Messagebb8 ?
;bb? @
returncc 
Viewcc 
(cc  
loancc  $
)cc$ %
;cc% &
}dd 
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 
TempDatahh 
[hh 
$strhh '
]hh' (
=hh) *
exhh+ -
.hh- .
Messagehh. 5
;hh5 6
returnii 
Viewii 
(ii 
loanii  
)ii  !
;ii! "
}jj 
}kk 	
}pp 
}qq ¬
oC:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\Controllers\HomeController.cs
	namespace 	
Presentation
 
. 
Controllers "
{ 
public		 

class		 
HomeController		 
:		  !

Controller		" ,
{

 
public 
ActionResult 
Index !
(! "
)" #
{ 	
var 
email 
= 
TempData  
[  !
$str! (
]( )
as* ,
string- 3
;3 4
ViewBag 
. 
Email 
= 
email !
;! "
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
About !
(! "
)" #
{ 	
ViewBag 
. 
Message 
= 
$str B
;B C
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
Contact #
(# $
)$ %
{ 	
ViewBag 
. 
Message 
= 
$str 2
;2 3
return 
View 
( 
) 
; 
} 	
}   
}!! ﬂ
wC:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\Controllers\AmortizationController.cs
	namespace 	
Presentation
 
. 
Controllers "
{ 
public 

class "
AmortizationController '
:( )

Controller* 4
{ 
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
>& '
Amortization( 4
(4 5
int5 8
loanId9 ?
)? @
{ 	
var 
proxy 
= 
new 
ProxyAmortization -
(- .
). /
;/ 0
try 
{ #
AmortizationResponseDto '
response( 0
=1 2
await3 8
proxy9 >
.> ?'
GetLoanAmortizationSchedule? Z
(Z [
loanId[ a
)a b
;b c
if 
( 
response 
!= 
null  $
&&% '
response( 0
.0 1
Success1 8
)8 9
{ 
return 
View 
(  
response  (
.( ) 
AmortizationSchedule) =
)= >
;> ?
} 
else 
{ 
TempData 
[ 
$str +
]+ ,
=- .
response/ 7
?7 8
.8 9
Message9 @
??A C
$str	D ä
;
ä ã
return 
RedirectToAction +
(+ ,
$str, =
,= >
$str? E
)E F
;F G
}   
}!! 
catch"" 
("" 
	Exception"" 
ex"" 
)""  
{## 
TempData$$ 
[$$ 
$str$$ '
]$$' (
=$$) *
ex$$+ -
.$$- .
Message$$. 5
;$$5 6
return%% 
RedirectToAction%% '
(%%' (
$str%%( 9
,%%9 :
$str%%; A
)%%A B
;%%B C
}&& 
}'' 	
[)) 	
HttpPost))	 
])) 
public++ 
async++ 
Task++ 
<++ 

JsonResult++ $
>++$ %
PayInstallment++& 4
(++4 5
int++5 8
id++9 ;
)++; <
{,, 	
var-- 
proxy-- 
=-- 
new-- 
ProxyAmortization-- -
(--- .
)--. /
;--/ 0
try.. 
{// 
var11 
response11 
=11 
await11 $
proxy11% *
.11* +
PayInstallment11+ 9
(119 :
id11: <
)11< =
;11= >
return22 
Json22 
(22 
new22 
{22  !
success22" )
=22* +
response22, 4
.224 5
Success225 <
,22< =
message22> E
=22F G
response22H P
.22P Q
Message22Q X
}22Y Z
)22Z [
;22[ \
}33 
catch44 
(44 
	Exception44 
ex44 
)44  
{55 
return66 
Json66 
(66 
new66 
{66  !
success66" )
=66* +
false66, 1
,661 2
message663 :
=66; <
ex66= ?
.66? @
Message66@ G
}66H I
)66I J
;66J K
}77 
}88 	
}<< 
}== ¯
jC:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\App_Start\RouteConfig.cs
	namespace 	
Presentation
 
{		 
public

 

class

 
RouteConfig

 
{ 
public 
static 
void 
RegisterRoutes )
() *
RouteCollection* 9
routes: @
)@ A
{ 	
routes 
. 
IgnoreRoute 
( 
$str ;
); <
;< =
routes 
. 
MapRoute 
( 
name 
: 
$str 
,  
url 
: 
$str 1
,1 2
defaults 
: 
new 
{ 

controller  *
=+ ,
$str- 3
,3 4
action5 ;
=< =
$str> E
,E F
idG I
=J K
UrlParameterL X
.X Y
OptionalY a
}b c
) 
; 
} 	
} 
} ö
kC:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\App_Start\FilterConfig.cs
	namespace 	
Presentation
 
{ 
public 

class 
FilterConfig 
{ 
public 
static 
void !
RegisterGlobalFilters 0
(0 1"
GlobalFilterCollection1 G
filtersH O
)O P
{		 	
filters

 
.

 
Add

 
(

 
new

  
HandleErrorAttribute

 0
(

0 1
)

1 2
)

2 3
;

3 4
} 	
} 
} ä
kC:\Users\ASUS TUF A15\source\repos\DesarrolloSeguro\BankSystem\Banck\Presentation\App_Start\BundleConfig.cs
	namespace 	
Presentation
 
{ 
public 

class 
BundleConfig 
{ 
public		 
static		 
void		 
RegisterBundles		 *
(		* +
BundleCollection		+ ;
bundles		< C
)		C D
{

 	
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) ;
); <
.< =
Include= D
(D E
$str 7
)7 8
)8 9
;9 :
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str 4
)4 5
)5 6
;6 7
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str /
)/ 0
)0 1
;1 2
bundles 
. 
Add 
( 
new 
Bundle "
(" #
$str# 8
)8 9
.9 :
Include: A
(A B
$str .
). /
)/ 0
;0 1
bundles 
. 
Add 
( 
new 
StyleBundle '
(' (
$str( 7
)7 8
.8 9
Include9 @
(@ A
$str /
,/ 0
$str *
)* +
)+ ,
;, -
bundles 
. 
Add 
( 
new 
StyleBundle '
(' (
$str( <
)< =
.= >
Include> E
(E F
$str 4
)4 5
)5 6
;6 7
bundles 
. 
Add 
( 
new 
StyleBundle '
(' (
$str( A
)A B
.B C
IncludeC J
(J K
$str 0
)0 1
)1 2
;2 3
bundles   
.   
Add   
(   
new   
StyleBundle   '
(  ' (
$str  ( E
)  E F
.  F G
Include  G N
(  N O
$str!! A
)!!A B
)!!B C
;!!C D
bundles"" 
."" 
Add"" 
("" 
new"" 
StyleBundle"" '
(""' (
$str""( =
)""= >
.""> ?
Include""? F
(""F G
$str## 0
)##0 1
)##1 2
;##2 3
}$$ 	
}%% 
}&& 