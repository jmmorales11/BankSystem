°
vD:\7. Septimo Semestre\7. Desarrollo de Software Seguro\TERCER PARCIAL\BankSystem\Banck\BLL\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str 
) 
]  
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str  
)  !
]! "
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[   
assembly   	
:  	 

AssemblyVersion   
(   
$str   $
)  $ %
]  % &
[!! 
assembly!! 	
:!!	 

AssemblyFileVersion!! 
(!! 
$str!! (
)!!( )
]!!) *ÛH
hD:\7. Septimo Semestre\7. Desarrollo de Software Seguro\TERCER PARCIAL\BankSystem\Banck\BLL\UserLogic.cs
	namespace 	
BLL
 
{ 
public 

class 
	UserLogic 
{ 
public 
( 
bool 
Success 
, 
string $
Message% ,
,, -
List. 2
<2 3
User3 7
>7 8
UserList9 A
)A B
RetrieveAllUserC R
(R S
)S T
{ 	
try 
{ 
using 
( 
var 
r 
= 
RepositoryFactory 0
.0 1
CreateRepository1 A
(A B
)B C
)C D
{ 
var 
userList  
=! "
r# $
.$ %
RetrieveAll% 0
<0 1
User1 5
>5 6
(6 7
)7 8
;8 9
return 
( 
true  
,  !
$str" E
,E F
userListG O
)O P
;P Q
} 
} 
catch 
( 
	Exception 
ex 
)  
{ 
return 
( 
false 
, 
$" !
$str! >
{> ?
ex? A
.A B
MessageB I
}I J
"J K
,K L
nullM Q
)Q R
;R S
} 
} 	
public   
(   
bool   
Success   
,   
string   $
Message  % ,
,  , -
User  . 2
User  3 7
)  7 8
RetrieveByIdUser  9 I
(  I J
int  J M
id  N P
)  P Q
{!! 	
try"" 
{## 
using$$ 
($$ 
var$$ 
r$$ 
=$$ 
RepositoryFactory$$ 0
.$$0 1
CreateRepository$$1 A
($$A B
)$$B C
)$$C D
{%% 
var&& 
user&& 
=&& 
r&&  
.&&  !
Retrieve&&! )
<&&) *
User&&* .
>&&. /
(&&/ 0
p&&0 1
=>&&2 4
p&&5 6
.&&6 7
user_id&&7 >
==&&? A
id&&B D
)&&D E
;&&E F
if'' 
('' 
user'' 
=='' 
null''  $
)''$ %
{(( 
return)) 
())  
false))  %
,))% &
$str))' >
,))> ?
null))@ D
)))D E
;))E F
}** 
return++ 
(++ 
true++  
,++  !
$str++" 6
,++6 7
user++8 <
)++< =
;++= >
},, 
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 
return00 
(00 
false00 
,00 
$"00 !
$str00! =
{00= >
ex00> @
.00@ A
Message00A H
}00H I
"00I J
,00J K
null00L P
)00P Q
;00Q R
}11 
}22 	
public44 
(44 
bool44 
Success44 
,44 
string44 $
Message44% ,
)44, -
Delete44. 4
(444 5
int445 8
id449 ;
)44; <
{55 	
try66 
{77 
var88 
user88 
=88 
RetrieveByIdUser88 +
(88+ ,
id88, .
)88. /
.88/ 0
User880 4
;884 5
if99 
(99 
user99 
==99 
null99  
)99  !
{:: 
return;; 
(;; 
false;; !
,;;! "
$str;;# :
);;: ;
;;;; <
}<< 
using>> 
(>> 
var>> 
r>> 
=>> 
RepositoryFactory>> 0
.>>0 1
CreateRepository>>1 A
(>>A B
)>>B C
)>>C D
{?? 
bool@@ 
deleted@@  
=@@! "
r@@# $
.@@$ %
Delete@@% +
(@@+ ,
user@@, 0
)@@0 1
;@@1 2
returnAA 
deletedAA "
?BB 
(BB 
trueBB 
,BB  
$strBB! A
)BBA B
:CC 
(CC 
falseCC  
,CC  !
$strCC" B
)CCB C
;CCC D
}DD 
}EE 
catchFF 
(FF 
	ExceptionFF 
exFF 
)FF  
{GG 
returnHH 
(HH 
falseHH 
,HH 
$"HH !
$strHH! <
{HH< =
exHH= ?
.HH? @
MessageHH@ G
}HHG H
"HHH I
)HHI J
;HHJ K
}II 
}JJ 	
publicLL 
(LL 
boolLL 
SuccessLL 
,LL 
stringLL $
MessageLL% ,
)LL, -

UpdateUserLL. 8
(LL8 9
UserLL9 =
userLL> B
)LLB C
{MM 	
tryNN 
{OO 
usingPP 
(PP 
varPP 
rPP 
=PP 
RepositoryFactoryPP 0
.PP0 1
CreateRepositoryPP1 A
(PPA B
)PPB C
)PPC D
{QQ 
boolRR 
updatedRR  
=RR! "
rRR# $
.RR$ %
UpdateRR% +
(RR+ ,
userRR, 0
)RR0 1
;RR1 2
returnSS 
updatedSS "
?TT 
(TT 
trueTT 
,TT  
$strTT! C
)TTC D
:UU 
(UU 
falseUU  
,UU  !
$strUU" D
)UUD E
;UUE F
}VV 
}WW 
catchXX 
(XX 
	ExceptionXX 
exXX 
)XX  
{YY 
returnZZ 
(ZZ 
falseZZ 
,ZZ 
$"ZZ !
$strZZ! >
{ZZ> ?
exZZ? A
.ZZA B
MessageZZB I
}ZZI J
"ZZJ K
)ZZK L
;ZZL M
}[[ 
}\\ 	
public__ 
User__ 
Create__ 
(__ 
User__ 
users__  %
)__% &
{`` 	
Useraa 
resaa 
=aa 
nullaa 
;aa 
usingbb 
(bb 
varbb 
rbb 
=bb 
RepositoryFactorybb ,
.bb, -
CreateRepositorybb- =
(bb= >
)bb> ?
)bb? @
{cc 
usersdd 
.dd 
statusdd 
=dd 
$numdd  
;dd  !
usersee 
.ee 
registration_dateee '
=ee( )
DateTimeee* 2
.ee2 3
Nowee3 6
;ee6 7
resgg 
=gg 
rgg 
.gg 
Creategg "
(gg" #
usersgg# (
)gg( )
;gg) *
returnii 
resii 
;ii 
}jj 
}ll 	
publicnn 
boolnn  
validateExistingUsernn (
(nn( )
Usernn) -
usernn. 2
)nn2 3
{oo 	
usingpp 
(pp 
varpp 
rpp 
=pp 
RepositoryFactorypp ,
.pp, -
CreateRepositorypp- =
(pp= >
)pp> ?
)pp? @
{qq 
Userrr 
existingUserrr !
=rr" #
rrr$ %
.rr% &
Retrieverr& .
<rr. /
Userrr/ 3
>rr3 4
(rr4 5
urr5 6
=>rr7 9
urr: ;
.rr; <
emailrr< A
==rrB D
userrrE I
.rrI J
emailrrJ O
)rrO P
;rrP Q
ifss 
(ss 
existingUserss 
!=ss  "
nullss# '
)ss' (
{tt 
returnuu 
trueuu 
;uu  
}vv 
elseww 
{xx 
returnyy 
falseyy  
;yy  !
}zz 
}{{ 
}}} 	
public 
User 
Authenticate  
(  !
string! '
email( -
,- .
string/ 5
password6 >
)> ?
{
ÄÄ 	
using
ÅÅ 
(
ÅÅ 
var
ÅÅ 
r
ÅÅ 
=
ÅÅ 
RepositoryFactory
ÅÅ ,
.
ÅÅ, -
CreateRepository
ÅÅ- =
(
ÅÅ= >
)
ÅÅ> ?
)
ÅÅ? @
{
ÇÇ 
User
ÉÉ 
user
ÉÉ 
=
ÉÉ 
r
ÉÉ 
.
ÉÉ 
Retrieve
ÉÉ &
<
ÉÉ& '
User
ÉÉ' +
>
ÉÉ+ ,
(
ÉÉ, -
u
ÉÉ- .
=>
ÉÉ/ 1
u
ÉÉ2 3
.
ÉÉ3 4
email
ÉÉ4 9
==
ÉÉ: <
email
ÉÉ= B
&&
ÉÉC E
u
ÉÉF G
.
ÉÉG H
password
ÉÉH P
==
ÉÉQ S
password
ÉÉT \
)
ÉÉ\ ]
;
ÉÉ] ^
return
ÖÖ 
user
ÖÖ 
;
ÖÖ 
}
ÜÜ 
}
áá 	
}
åå 
}çç Á<
lD:\7. Septimo Semestre\7. Desarrollo de Software Seguro\TERCER PARCIAL\BankSystem\Banck\BLL\UserDataLogic.cs
	namespace 	
BLL
 
{ 
public 

class 
UserDataLogic 
{		 
public

 
(

 
bool

 
Success

 
,

 
string

 $
Message

% ,
,

, -
	User_Data

. 7
CreatedUserData

8 G
)

G H
Create

I O
(

O P
	User_Data

P Y
users

Z _
)

_ `
{ 	
try 
{ 
using 
( 
var 
r 
= 
RepositoryFactory 0
.0 1
CreateRepository1 A
(A B
)B C
)C D
{ 
var 
createdUserData '
=( )
r* +
.+ ,
Create, 2
(2 3
users3 8
)8 9
;9 :
return 
( 
true  
,  !
$str" I
,I J
createdUserDataK Z
)Z [
;[ \
} 
} 
catch 
( 
	Exception 
ex 
)  
{ 
return 
( 
false 
, 
$" !
$str! B
{B C
exC E
.E F
MessageF M
}M N
"N O
,O P
nullQ U
)U V
;V W
} 
} 	
public 
( 
bool 
Success 
, 
string $
Message% ,
,, -
List. 2
<2 3
	User_Data3 <
>< =
UserDataList> J
)J K
RetrieveAllUserDataL _
(_ `
)` a
{ 	
try 
{ 
using 
( 
var 
r 
= 
RepositoryFactory 0
.0 1
CreateRepository1 A
(A B
)B C
)C D
{ 
var   
userDataList   $
=  % &
r  ' (
.  ( )
RetrieveAll  ) 4
<  4 5
	User_Data  5 >
>  > ?
(  ? @
)  @ A
;  A B
return!! 
(!! 
true!!  
,!!  !
$str!!" B
,!!B C
userDataList!!D P
)!!P Q
;!!Q R
}"" 
}## 
catch$$ 
($$ 
	Exception$$ 
ex$$ 
)$$  
{%% 
return&& 
(&& 
false&& 
,&& 
$"&& !
$str&&! ;
{&&; <
ex&&< >
.&&> ?
Message&&? F
}&&F G
"&&G H
,&&H I
null&&J N
)&&N O
;&&O P
}'' 
}(( 	
public** 
(** 
bool** 
Success** 
,** 
string** $
Message**% ,
,**, -
	User_Data**. 7
UserData**8 @
)**@ A 
RetrieveByIdUserData**B V
(**V W
int**W Z
id**[ ]
)**] ^
{++ 	
try,, 
{-- 
using.. 
(.. 
var.. 
r.. 
=.. 
RepositoryFactory.. 0
...0 1
CreateRepository..1 A
(..A B
)..B C
)..C D
{// 
var00 
userData00  
=00! "
r00# $
.00$ %
Retrieve00% -
<00- .
	User_Data00. 7
>007 8
(008 9
p009 :
=>00; =
p00> ?
.00? @
user_data_id00@ L
==00M O
id00P R
)00R S
;00S T
if11 
(11 
userData11  
==11! #
null11$ (
)11( )
{22 
return33 
(33  
false33  %
,33% &
$str33' H
,33H I
null33J N
)33N O
;33O P
}44 
return55 
(55 
true55  
,55  !
$str55" @
,55@ A
userData55B J
)55J K
;55K L
}66 
}77 
catch88 
(88 
	Exception88 
ex88 
)88  
{99 
return:: 
(:: 
false:: 
,:: 
$":: !
$str::! F
{::F G
ex::G I
.::I J
Message::J Q
}::Q R
"::R S
,::S T
null::U Y
)::Y Z
;::Z [
};; 
}<< 	
public>> 
(>> 
bool>> 
Success>> 
,>> 
string>> $
Message>>% ,
)>>, -
Delete>>. 4
(>>4 5
int>>5 8
id>>9 ;
)>>; <
{?? 	
try@@ 
{AA 
varBB 
userBB 
=BB  
RetrieveByIdUserDataBB /
(BB/ 0
idBB0 2
)BB2 3
.BB3 4
UserDataBB4 <
;BB< =
ifCC 
(CC 
userCC 
==CC 
nullCC  
)CC  !
{DD 
returnEE 
(EE 
falseEE !
,EE! "
$strEE# D
)EED E
;EEE F
}FF 
usingHH 
(HH 
varHH 
rHH 
=HH 
RepositoryFactoryHH 0
.HH0 1
CreateRepositoryHH1 A
(HHA B
)HHB C
)HHC D
{II 
boolJJ 
deletedJJ  
=JJ! "
rJJ# $
.JJ$ %
DeleteJJ% +
(JJ+ ,
userJJ, 0
)JJ0 1
;JJ1 2
returnKK 
deletedKK "
?LL 
(LL 
trueLL 
,LL  
$strLL! K
)LLK L
:MM 
(MM 
falseMM  
,MM  !
$strMM" P
)MMP Q
;MMQ R
}NN 
}OO 
catchPP 
(PP 
	ExceptionPP 
exPP 
)PP  
{QQ 
returnRR 
(RR 
falseRR 
,RR 
$"RR !
$strRR! E
{RRE F
exRRF H
.RRH I
MessageRRI P
}RRP Q
"RRQ R
)RRR S
;RRS T
}SS 
}TT 	
publicVV 
(VV 
boolVV 
SuccessVV 
,VV 
stringVV $
MessageVV% ,
)VV, -
UpdateUser_DataVV. =
(VV= >
	User_DataVV> G
	user_DataVVH Q
)VVQ R
{WW 	
tryXX 
{YY 
usingZZ 
(ZZ 
varZZ 
rZZ 
=ZZ 
RepositoryFactoryZZ 0
.ZZ0 1
CreateRepositoryZZ1 A
(ZZA B
)ZZB C
)ZZC D
{[[ 
bool\\ 
updated\\  
=\\! "
r\\# $
.\\$ %
Update\\% +
(\\+ ,
	user_Data\\, 5
)\\5 6
;\\6 7
return]] 
updated]] "
?^^ 
(^^ 
true^^ 
,^^  
$str^^! M
)^^M N
:__ 
(__ 
false__  
,__  !
$str__" R
)__R S
;__S T
}`` 
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
returndd 
(dd 
falsedd 
,dd 
$"dd !
$strdd! G
{ddG H
exddH J
.ddJ K
MessageddK R
}ddR S
"ddS T
)ddT U
;ddU V
}ee 
}ff 	
}gg 
}hh ¯<
hD:\7. Septimo Semestre\7. Desarrollo de Software Seguro\TERCER PARCIAL\BankSystem\Banck\BLL\LoanLogic.cs
	namespace 	
BLL
 
{ 
public 

class 
	LoanLogic 
{		 
public

 
(

 
bool

 
Success

 
,

 
string

 $
Message

% ,
,

, -
Loan

. 2
CreatedLoan

3 >
)

> ?
Create

@ F
(

F G
Loan

G K
loan

L P
)

P Q
{ 	
try 
{ 
using 
( 
var 
r 
= 
RepositoryFactory 0
.0 1
CreateRepository1 A
(A B
)B C
)C D
{ 
loan 
. 
application_date )
=* +
DateTime, 4
.4 5
Now5 8
;8 9
var 
createdLoan #
=$ %
r& '
.' (
Create( .
(. /
loan/ 3
)3 4
;4 5
return 
( 
true  
,  !
$str" @
,@ A
createdLoanB M
)M N
;N O
} 
} 
catch 
( 
	Exception 
ex 
)  
{ 
return 
( 
false 
, 
$" !
$str! =
{= >
ex> @
.@ A
MessageA H
}H I
"I J
,J K
nullL P
)P Q
;Q R
} 
} 	
public 
( 
bool 
Success 
, 
string $
Message% ,
,, -
List. 2
<2 3
Loan3 7
>7 8
Loans9 >
)> ?
RetrieveAllLoan@ O
(O P
)P Q
{ 	
try 
{ 
using 
( 
var 
r 
= 
RepositoryFactory 0
.0 1
CreateRepository1 A
(A B
)B C
)C D
{   
var!! 
loans!! 
=!! 
r!!  !
.!!! "
RetrieveAll!!" -
<!!- .
Loan!!. 2
>!!2 3
(!!3 4
)!!4 5
;!!5 6
return"" 
("" 
true""  
,""  !
$str""" F
,""F G
loans""H M
)""M N
;""N O
}## 
}$$ 
catch%% 
(%% 
	Exception%% 
ex%% 
)%%  
{&& 
return'' 
('' 
false'' 
,'' 
$"'' !
$str''! C
{''C D
ex''D F
.''F G
Message''G N
}''N O
"''O P
,''P Q
null''R V
)''V W
;''W X
}(( 
})) 	
public++ 
(++ 
bool++ 
Success++ 
,++ 
string++ $
Message++% ,
,++, -
Loan++. 2
Loan++3 7
)++7 8
RetrieveByIdLoan++9 I
(++I J
int++J M
id++N P
)++P Q
{,, 	
try-- 
{.. 
using// 
(// 
var// 
r// 
=// 
RepositoryFactory// 0
.//0 1
CreateRepository//1 A
(//A B
)//B C
)//C D
{00 
var11 
loan11 
=11 
r11  
.11  !
Retrieve11! )
<11) *
Loan11* .
>11. /
(11/ 0
p110 1
=>112 4
p115 6
.116 7
loan_id117 >
==11? A
id11B D
)11D E
;11E F
if22 
(22 
loan22 
==22 
null22  $
)22$ %
{33 
return44 
(44  
false44  %
,44% &
$str44' ?
,44? @
null44A E
)44E F
;44F G
}55 
return66 
(66 
true66  
,66  !
$str66" 7
,667 8
loan669 =
)66= >
;66> ?
}77 
}88 
catch99 
(99 
	Exception99 
ex99 
)99  
{:: 
return;; 
(;; 
false;; 
,;; 
$";; !
$str;;! A
{;;A B
ex;;B D
.;;D E
Message;;E L
};;L M
";;M N
,;;N O
null;;P T
);;T U
;;;U V
}<< 
}== 	
public?? 
(?? 
bool?? 
Success?? 
,?? 
string?? $
Message??% ,
)??, -
Delete??. 4
(??4 5
int??5 8
id??9 ;
)??; <
{@@ 	
tryAA 
{BB 
varCC 
loanCC 
=CC 
RetrieveByIdLoanCC +
(CC+ ,
idCC, .
)CC. /
.CC/ 0
LoanCC0 4
;CC4 5
ifDD 
(DD 
loanDD 
==DD 
nullDD  
)DD  !
{EE 
returnFF 
(FF 
falseFF !
,FF! "
$strFF# ;
)FF; <
;FF< =
}GG 
usingII 
(II 
varII 
rII 
=II 
RepositoryFactoryII 0
.II0 1
CreateRepositoryII1 A
(IIA B
)IIB C
)IIC D
{JJ 
boolKK 
deletedKK  
=KK! "
rKK# $
.KK$ %
DeleteKK% +
(KK+ ,
loanKK, 0
)KK0 1
;KK1 2
returnLL 
deletedLL "
?MM 
(MM 
trueMM 
,MM  
$strMM! B
)MMB C
:NN 
(NN 
falseNN  
,NN  !
$strNN" C
)NNC D
;NND E
}OO 
}PP 
catchQQ 
(QQ 
	ExceptionQQ 
exQQ 
)QQ  
{RR 
returnSS 
(SS 
falseSS 
,SS 
$"SS !
$strSS! @
{SS@ A
exSSA C
.SSC D
MessageSSD K
}SSK L
"SSL M
)SSM N
;SSN O
}TT 
}UU 	
publicWW 
(WW 
boolWW 
SuccessWW 
,WW 
stringWW $
MessageWW% ,
)WW, -

UpdateLoanWW. 8
(WW8 9
LoanWW9 =
loanWW> B
)WWB C
{XX 	
tryYY 
{ZZ 
using[[ 
([[ 
var[[ 
r[[ 
=[[ 
RepositoryFactory[[ 0
.[[0 1
CreateRepository[[1 A
([[A B
)[[B C
)[[C D
{\\ 
bool]] 
updated]]  
=]]! "
r]]# $
.]]$ %
Update]]% +
(]]+ ,
loan]], 0
)]]0 1
;]]1 2
return^^ 
updated^^ "
?__ 
(__ 
true__ 
,__  
$str__! D
)__D E
:`` 
(`` 
false``  
,``  !
$str``" E
)``E F
;``F G
}aa 
}bb 
catchcc 
(cc 
	Exceptioncc 
excc 
)cc  
{dd 
returnee 
(ee 
falseee 
,ee 
$"ee !
$stree! B
{eeB C
exeeC E
.eeE F
MessageeeF M
}eeM N
"eeN O
)eeO P
;eeP Q
}ff 
}gg 	
}hh 
}ii ˙M
pD:\7. Septimo Semestre\7. Desarrollo de Software Seguro\TERCER PARCIAL\BankSystem\Banck\BLL\AmortizationLogic.cs
	namespace 	
BLL
 
{ 
public 

class 
AmortizationLogic "
{		 
public

 
(

 
bool

 
Success

 
,

 
string

 $
Message

% ,
,

, -
Amortization

. :
Amortization

; G
)

G H
CreateAmortization

I [
(

[ \
Amortization

\ h
amortization

i u
)

u v
{ 	
Amortization 
res 
= 
null #
;# $
string 
message 
= 
string #
.# $
Empty$ )
;) *
bool 
success 
= 
false  
;  !
try 
{ 
using 
( 
var 
r 
= 
RepositoryFactory 0
.0 1
CreateRepository1 A
(A B
)B C
)C D
{ 
res 
= 
r 
. 
Create "
(" #
amortization# /
)/ 0
;0 1
if 
( 
res 
!= 
null #
)# $
{ 
success 
=  !
true" &
;& '
message 
=  !
$str" D
;D E
} 
else 
{ 
message 
=  !
$str" B
;B C
} 
} 
} 
catch   
(   
	Exception   
ex   
)    
{!! 
message"" 
="" 
$""" 
$str"" #
{""# $
ex""$ &
.""& '
Message""' .
}"". /
"""/ 0
;""0 1
}## 
return%% 
(%% 
success%% 
,%% 
message%% $
,%%$ %
res%%& )
)%%) *
;%%* +
}&& 	
public(( 
((( 
bool(( 
Success(( 
,(( 
string(( $
Message((% ,
,((, -
List((. 2
<((2 3
Amortization((3 ?
>((? @
Amortizations((A N
)((N O#
RetrieveAllAmortization((P g
(((g h
)((h i
{)) 	
List** 
<** 
Amortization** 
>** 
res** "
=**# $
null**% )
;**) *
string++ 
message++ 
=++ 
string++ #
.++# $
Empty++$ )
;++) *
bool,, 
success,, 
=,, 
false,,  
;,,  !
try.. 
{// 
using00 
(00 
var00 
r00 
=00 
RepositoryFactory00 0
.000 1
CreateRepository001 A
(00A B
)00B C
)00C D
{11 
res22 
=22 
r22 
.22 
RetrieveAll22 '
<22' (
Amortization22( 4
>224 5
(225 6
)226 7
;227 8
if33 
(33 
res33 
!=33 
null33 #
&&33$ &
res33' *
.33* +
Count33+ 0
>331 2
$num333 4
)334 5
{44 
success55 
=55  !
true55" &
;55& '
message66 
=66  !
$str66" K
;66K L
}77 
else88 
{99 
message:: 
=::  !
$str::" D
;::D E
};; 
}<< 
}== 
catch>> 
(>> 
	Exception>> 
ex>> 
)>>  
{?? 
message@@ 
=@@ 
$"@@ 
$str@@ #
{@@# $
ex@@$ &
.@@& '
Message@@' .
}@@. /
"@@/ 0
;@@0 1
}AA 
returnCC 
(CC 
successCC 
,CC 
messageCC $
,CC$ %
resCC& )
)CC) *
;CC* +
}DD 	
publicFF 
(FF 
boolFF 
SuccessFF 
,FF 
stringFF $
MessageFF% ,
,FF, -
AmortizationFF. :
AmortizationFF; G
)FFG H$
RetrieveByIdAmortizationFFI a
(FFa b
intFFb e
idFFf h
)FFh i
{GG 	
AmortizationHH 
resHH 
=HH 
nullHH #
;HH# $
stringII 
messageII 
=II 
stringII #
.II# $
EmptyII$ )
;II) *
boolJJ 
successJJ 
=JJ 
falseJJ  
;JJ  !
tryLL 
{MM 
usingNN 
(NN 
varNN 
rNN 
=NN 
RepositoryFactoryNN 0
.NN0 1
CreateRepositoryNN1 A
(NNA B
)NNB C
)NNC D
{OO 
resPP 
=PP 
rPP 
.PP 
RetrievePP $
<PP$ %
AmortizationPP% 1
>PP1 2
(PP2 3
pPP3 4
=>PP5 7
pPP8 9
.PP9 :
amortization_idPP: I
==PPJ L
idPPM O
)PPO P
;PPP Q
ifQQ 
(QQ 
resQQ 
!=QQ 
nullQQ #
)QQ# $
{RR 
successSS 
=SS  !
trueSS" &
;SS& '
messageTT 
=TT  !
$strTT" ;
;TT; <
}UU 
elseVV 
{WW 
messageXX 
=XX  !
$strXX" >
;XX> ?
}YY 
}ZZ 
}[[ 
catch\\ 
(\\ 
	Exception\\ 
ex\\ 
)\\  
{]] 
message^^ 
=^^ 
$"^^ 
$str^^ #
{^^# $
ex^^$ &
.^^& '
Message^^' .
}^^. /
"^^/ 0
;^^0 1
}__ 
returnaa 
(aa 
successaa 
,aa 
messageaa $
,aa$ %
resaa& )
)aa) *
;aa* +
}bb 	
publicdd 
(dd 
booldd 
Successdd 
,dd 
stringdd $
Messagedd% ,
)dd, -
Deletedd. 4
(dd4 5
intdd5 8
iddd9 ;
)dd; <
{ee 	
boolff 
successff 
=ff 
falseff  
;ff  !
stringgg 
messagegg 
=gg 
stringgg #
.gg# $
Emptygg$ )
;gg) *
tryii 
{jj 
varkk 
amortizationkk  
=kk! "$
RetrieveByIdAmortizationkk# ;
(kk; <
idkk< >
)kk> ?
.kk? @
Amortizationkk@ L
;kkL M
ifll 
(ll 
amortizationll  
!=ll! #
nullll$ (
)ll( )
{mm 
usingnn 
(nn 
varnn 
rnn  
=nn! "
RepositoryFactorynn# 4
.nn4 5
CreateRepositorynn5 E
(nnE F
)nnF G
)nnG H
{oo 
successpp 
=pp  !
rpp" #
.pp# $
Deletepp$ *
(pp* +
amortizationpp+ 7
)pp7 8
;pp8 9
messageqq 
=qq  !
successqq" )
?qq* +
$strqq, Q
:qqR S
$strqqT w
;qqw x
}rr 
}ss 
elsett 
{uu 
messagevv 
=vv 
$strvv :
;vv: ;
}ww 
}xx 
catchyy 
(yy 
	Exceptionyy 
exyy 
)yy  
{zz 
message{{ 
={{ 
$"{{ 
$str{{ #
{{{# $
ex{{$ &
.{{& '
Message{{' .
}{{. /
"{{/ 0
;{{0 1
}|| 
return~~ 
(~~ 
success~~ 
,~~ 
message~~ $
)~~$ %
;~~% &
} 	
public
ÅÅ 
(
ÅÅ 
bool
ÅÅ 
Success
ÅÅ 
,
ÅÅ 
string
ÅÅ $
Message
ÅÅ% ,
)
ÅÅ, - 
UpdateAmortization
ÅÅ. @
(
ÅÅ@ A
Amortization
ÅÅA M
amortization
ÅÅN Z
)
ÅÅZ [
{
ÇÇ 	
bool
ÉÉ 
success
ÉÉ 
=
ÉÉ 
false
ÉÉ  
;
ÉÉ  !
string
ÑÑ 
message
ÑÑ 
=
ÑÑ 
string
ÑÑ #
.
ÑÑ# $
Empty
ÑÑ$ )
;
ÑÑ) *
try
ÜÜ 
{
áá 
using
àà 
(
àà 
var
àà 
r
àà 
=
àà 
RepositoryFactory
àà 0
.
àà0 1
CreateRepository
àà1 A
(
ààA B
)
ààB C
)
ààC D
{
ââ 
success
ää 
=
ää 
r
ää 
.
ää  
Update
ää  &
(
ää& '
amortization
ää' 3
)
ää3 4
;
ää4 5
message
ãã 
=
ãã 
success
ãã %
?
ãã& '
$str
ãã( O
:
ããP Q
$str
ããR w
;
ããw x
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
èè 
message
êê 
=
êê 
$"
êê 
$str
êê #
{
êê# $
ex
êê$ &
.
êê& '
Message
êê' .
}
êê. /
"
êê/ 0
;
êê0 1
}
ëë 
return
ìì 
(
ìì 
success
ìì 
,
ìì 
message
ìì $
)
ìì$ %
;
ìì% &
}
îî 	
}
ïï 
}ññ 